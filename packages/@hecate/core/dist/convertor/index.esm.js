import e from"@babel/runtime-corejs3/helpers/esm/typeof";import r from"@babel/runtime-corejs3/helpers/esm/slicedToArray";import t from"@babel/runtime-corejs3/helpers/esm/classCallCheck";import n from"@babel/runtime-corejs3/helpers/esm/createClass";import"core-js/modules/es.function.name.js";import a from"@babel/runtime-corejs3/core-js/instance/concat";import o from"@babel/runtime-corejs3/core-js/object/keys";import i from"@babel/runtime-corejs3/core-js/instance/index-of";var l=function(){function e(){t(this,e)}return n(e,null,[{key:"selfCloseTags",get:function(){return["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]}},{key:"build",value:function(e){var r,t,n;if(!e||!e.tag)return"";var o,i=c.attributes(e);if(c.isSelfCloseTag(e))return a(o="<".concat(e.tag," ")).call(o,i,"/>");var l=c.children(e);return a(r=a(t=a(n="<".concat(e.tag," ")).call(n,i,">")).call(t,l,"</")).call(r,e.tag,">")}},{key:"unbuild",value:function(e){if(!e)return{};var t=document.createElement("html");t.innerHTML=e;var n=t.querySelector("body");if(!n)return{};var a=r(n.children,1)[0];return a?u.node2json(a):{}}}]),e}(),c=function(){function r(){t(this,r)}return n(r,null,[{key:"attributes",value:function(e){if(!e.attributes)return"";var r="",t=o(e.attributes);for(var n in t){var i;if({}.hasOwnProperty.call(t,n))r+=a(i=" ".concat(t[n],'="')).call(i,e.attributes[t[n]],'"')}return r}},{key:"children",value:function(r){if(!r.children)return"";var t="";for(var n in r.children)({}).hasOwnProperty.call(r.children,n)&&("object"==e(r.children[n])?t+=l.build(r.children[n]):t+=r.children[n]);return t}},{key:"isSelfCloseTag",value:function(e){var r;return i(r=l.selfCloseTags).call(r,e.tag)>-1}}]),r}(),u=function(){function e(){t(this,e)}return n(e,null,[{key:"attributes",value:function(e){var r={},t=o(e.attributes);for(var n in t)if({}.hasOwnProperty.call(t,n)){var a=t[n],i=e.attributes[a];r[i.name]=i.value}return r}},{key:"children",value:function(r){var t=[];for(var n in r.childNodes)r.childNodes[n].nodeType===Node.ELEMENT_NODE&&t.push(e.node2json(r.childNodes[n])),r.childNodes[n].nodeType===Node.TEXT_NODE&&t.push(r.childNodes[n].textContent);return t}},{key:"node2json",value:function(r){return{tag:r.tagName.toLowerCase(),attributes:e.attributes(r),children:e.children(r)}}}]),e}(),s=l;export{s as json2html};
